<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Create account</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">

  <style>
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; background:linear-gradient(180deg,#071027,#081426);color:#e6eef6;margin:0;padding:0;display:flex;justify-content:center;align-items:center;min-height:100vh;}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:16px;box-shadow:0 18px 40px rgba(2,8,24,0.6);padding:32px;margin:20px;max-width:460px;border:1px solid rgba(255,255,255,0.03);text-align:center;}
    input{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);margin-top:8px;margin-bottom:16px;box-sizing:border-box;background:rgba(255,255,255,0.02);color:#e6eef6;outline:none;}
    input::placeholder{color:#9aa4b2;}
    label{font-size:14px;color:#e6eef6;font-weight:600;}
    .send-btn{background:linear-gradient(90deg,#00c2a8,#4f92ff);color:#fff;border:none;padding:12px 24px;border-radius:10px;cursor:pointer;font-weight:700;font-size:16px;transition:all 0.2s;}
    .send-btn:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(0,194,168,0.3);}
    a{color:#4f92ff;text-decoration:none;font-weight:600;}
    #signupMsg{margin-top:16px;color:#ff6b6b;font-size:14px;}
    h2{color:#e6eef6;margin-bottom:24px;font-weight:700;}
  </style>
</head>

<body>

  <div class="card">
    <h2>Create Account</h2>

    <label for="su_name">Full name</label>
    <input id="su_name" placeholder="Your name" autocomplete="name" />

    <label for="su_email">Email</label>
    <input id="su_email" type="email" placeholder="you@example.com" autocomplete="email" />

    <label for="su_password">Password</label>
    <input id="su_password" type="password" placeholder="Choose a password" autocomplete="new-password" />

    <div style="margin-top:14px;">
      <button id="signupBtn" type="button" class="send-btn">Sign Up</button>
      <a href="login.html" style="margin-left:12px;line-height:32px">Go to Login</a>
    </div>

    <div id="signupMsg"></div>
  </div>

  <!-- Main client-side logic -->
  <script src="script.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {

      /* ---------------------------------------------------
         Auto-prefill email if signup link has ?ref=email
      ---------------------------------------------------- */
      const params = new URLSearchParams(window.location.search);
      const ref = params.get('ref');

      if (ref) {
        const decoded = decodeURIComponent(ref);
        const emailField = document.getElementById('su_email');
        if (emailField) emailField.value = decoded;
      }

      /* ---------------------------------------------------
         Bind signup() if script.js loaded correctly
      ---------------------------------------------------- */
      const btn = document.getElementById('signupBtn');
      if (btn && typeof signup === "function") {
        btn.addEventListener("click", signup);
      }
    });
  </script>

</body>
</html>
