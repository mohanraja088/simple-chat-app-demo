/* (same polished dark theme CSS provided earlier) */
:root{
  --bg:#0b1220; --muted:#9aa4b2; --accent:#00c2a8; --accent2:#4f92ff;
  --radius:14px; --shadow-lg:0 18px 40px rgba(2,8,24,0.6);
  --font:"Inter", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
}
/* reset */
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:var(--font);background:linear-gradient(180deg,#071027,#081426);color:#e6eef6}
a{color:inherit;text-decoration:none}

/* app container */
.app{max-width:1180px;margin:0 auto;display:flex;gap:18px;padding:18px;align-items:stretch;height:100vh}

/* sidebar */
.sidebar{width:320px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:16px;box-shadow:var(--shadow-lg);display:flex;flex-direction:column;min-height:640px;border:1px solid rgba(255,255,255,0.03);padding:12px}
/* header */
.sidebar-top{display:flex;justify-content:space-between;align-items:center;padding:6px}
.profile{display:flex;gap:12px;align-items:center}
.avatar{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,#06293b,#0b4a3b);display:flex;align-items:center;justify-content:center;font-weight:700;color:white}
.profile-meta{line-height:1}
.profile-name{font-weight:700;font-size:15px}
.profile-email{color:var(--muted);font-size:12px}

/* actions, search, lists */
.sidebar-actions{display:flex;gap:8px}
.icon-btn{width:40px;height:40px;border-radius:10px;border:none;background:transparent;color:#dff7f0;font-size:16px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer}
.search{padding:12px 4px}
.search input{width:100%;padding:10px;border-radius:10px;border:none;background:rgba(255,255,255,0.02);color:inherit;outline:none;border:1px solid rgba(255,255,255,0.03)}
.list-section{padding:8px 6px;flex:1;overflow:auto;margin-top:6px}
.list-title{font-size:12px;color:var(--muted);margin:6px 8px;font-weight:600}
.items-list{display:flex;flex-direction:column;gap:10px;padding-bottom:20px}
.item{display:flex;align-items:center;gap:12px;padding:12px;border-radius:10px;cursor:pointer;transition:all .12s;background:transparent}
.item:hover{transform:translateY(-3px);background:rgba(255,255,255,0.015)}
.item.active{background:linear-gradient(90deg, rgba(79,146,255,0.06), rgba(0,194,168,0.04));border-color: rgba(79,146,255,0.08);box-shadow:0 8px 20px rgba(2,8,24,0.45)}
.item.has-unread{background:linear-gradient(90deg, rgba(255,69,58,0.1), rgba(255,59,48,0.05));border:1px solid rgba(255,69,58,0.2)}
.user-avatar{width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,#052a4d,#093a2d);display:flex;align-items:center;justify-content:center;font-weight:700;color:white}
.meta .name{font-weight:700;position:relative}
.meta .sub{font-size:12px;color:var(--muted)}
.unread-badge{background:#ff453a;color:white;border-radius:10px;padding:2px 6px;font-size:10px;font-weight:700;margin-left:8px;display:inline-block}
.sidebar-footer{padding:12px;border-top:1px solid rgba(255,255,255,0.02);text-align:center;color:var(--muted);font-size:12px}

/* chat panel */
.chat-panel{flex:1;background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(255,255,255,0.00));border-radius:16px;box-shadow:var(--shadow-lg);display:flex;flex-direction:column;min-height:640px;border:1px solid rgba(255,255,255,0.03)}
.chat-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid rgba(255,255,255,0.02)}
.chat-header-left{display:flex;gap:12px;align-items:center}
.chat-title{font-weight:800;font-size:16px}
.chat-subtitle{font-size:13px;color:var(--muted)}
.messages{padding:22px;flex:1;overflow:auto;background:radial-gradient(800px 400px at 10% 10%, rgba(79,146,255,0.03), transparent 6%)}
.empty-state{text-align:center;color:var(--muted);padding:40px;font-size:15px}

/* message bubbles */
.msg{max-width:72%;margin-bottom:14px;padding:12px 14px;border-radius:12px;position:relative;box-shadow:0 10px 22px rgba(3,8,20,0.45)}
.msg .time{font-size:11px;color:var(--muted);margin-top:8px}
.msg.outgoing{margin-left:auto;background:linear-gradient(135deg,var(--accent2), var(--accent));color:white;border-bottom-right-radius:6px;box-shadow:0 18px 36px rgba(0,135,187,0.14)}
.msg.incoming{margin-right:auto;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);color:#e8f6f0}
.msg small{display:block;font-size:12px;color:var(--muted);margin-bottom:8px}
.msg a{color:inherit;text-decoration:underline}

/* input */
.chat-input{display:flex;gap:10px;padding:14px;border-top:1px solid rgba(255,255,255,0.02);align-items:center;background:linear-gradient(0deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));margin-top:auto}
.chat-input input[type="text"],.chat-input input[id="msg"]{flex:1;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit;outline:none}
.send-btn{background:linear-gradient(90deg,var(--accent),var(--accent2));color:white;padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
.icon-btn{background:transparent;border:1px solid rgba(255,255,255,0.03);padding:8px;border-radius:10px;cursor:pointer}

/* responsiveness */
@media (max-width:900px){.app{flex-direction:column;padding:12px}.sidebar{width:100%}.chat-panel{width:100%}}

/* Modal */
.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); }
.modal-content { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); margin: 10% auto; padding: 25px; border: 1px solid rgba(255,255,255,0.03); border-radius: 16px; width: 90%; max-width: 500px; color: #e6eef6; }
.modal-content h3 { margin-top: 0; }
.modal-content input { width: 100%; padding: 10px; margin: 10px 0; border-radius: 10px; border: 1px solid rgba(255,255,255,0.03); background: rgba(255,255,255,0.02); color: inherit; }
.modal-content button { margin: 5px; padding: 10px 20px; border: none; border-radius: 10px; cursor: pointer; }
#createGroupBtn { background: var(--accent); color: white; }
#cancelGroupBtn { background: transparent; border: 1px solid rgba(255,255,255,0.03); }
.checkbox-item { display: flex; align-items: center; margin: 8px 0; padding: 8px; border-radius: 8px; transition: background 0.2s; }
.checkbox-item:hover { background: rgba(255,255,255,0.05); }
.checkbox-item input[type="checkbox"] { margin-right: 12px; width: 18px; height: 18px; accent-color: var(--accent); cursor: pointer; }
.checkbox-item label { cursor: pointer; font-weight: 500; color: #e6eef6; }
#contactsCheckboxes { max-height: 250px; overflow-y: auto; padding: 15px; border: 1px solid rgba(255,255,255,0.05); border-radius: 12px; background: rgba(255,255,255,0.02); }
